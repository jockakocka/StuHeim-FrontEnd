{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Dell\\\\Desktop\\\\JovanaFiles\\\\UniVienna\\\\WinterSemester2020\\\\PRAKTIKUM\\\\tagamafront\\\\Tagama-front\\\\src\\\\app\\\\module\\\\users\\\\users.container.js\";\nimport React from 'react';\nimport AddIcon from \"@material-ui/icons/Add\";\nimport Icon from '@material-ui/core/Icon';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { connect } from 'react-redux';\nimport { action } from '../../../index';\nimport { Link } from \"react-router-dom\";\nimport { Button, Paper, Table, TableBody, TableCell, TableFooter, TableHead, TablePagination, TableRow, TextField } from \"@material-ui/core\";\nimport { fetchAllUsers } from './users.actions';\nimport Redirect from 'react-router/Redirect';\nimport { handleLogout, hasRole, refreshToken } from '../../shared/app.properties';\nimport Security from '@material-ui/icons/Security';\n\nclass Users extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      filterValue: undefined,\n      allusersdata: undefined\n    };\n    this.unauthorized = false;\n\n    this.handleChangePage = (event, page) => {\n      this.props.fetchAllUsers(page, 8, this.state.filterValue);\n    };\n\n    this.handleChangeRowsPerPage = event => {\n      this.props.fetchAllUsers(this.props.allusersdata.page, event.target.value, this.state.filterValue);\n    };\n\n    this.handleFilterChange = event => {\n      this.setState({\n        filterValue: event.target.value\n      });\n      this.props.fetchAllUsers(0, 8, event.target.value);\n    };\n  }\n\n  componentWillMount() {\n    this.unauthorized = !hasRole('ROLE_ADMINISTRATION');\n    var refreshTime = new Date();\n    refreshTime.setSeconds(refreshTime.getSeconds() + 1800);\n\n    if (!localStorage.getItem('idm') || !localStorage.getItem('me')) {\n      handleLogout();\n    } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < new Date()) {\n      handleLogout();\n    } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < refreshTime) {\n      refreshToken();\n    }\n  }\n\n  componentDidMount() {\n    this.props.fetchAllUsers(0, 8, \"\");\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"users\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }\n    }, localStorage.getItem('idm') && localStorage.getItem('me') && this.unauthorized && /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/app/error/unauthorized\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Paper, {\n      style: {\n        margin: 30 + \"px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/app/users/create',\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"extendedFab\",\n      color: \"primary\",\n      \"aria-label\": \"Add\",\n      className: \"top-circle-create-btn \",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 41\n      }\n    }, \"Add new \", /*#__PURE__*/React.createElement(AddIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 53\n      }\n    })))), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      id: \"standard-name\",\n      label: \"Filter\",\n      value: this.filterValue,\n      margin: \"normal\",\n      onChange: this.handleFilterChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 37\n      }\n    })), this.props.allusersdata && this.props.allusersdata.content && /*#__PURE__*/React.createElement(TablePagination, {\n      rowsPerPageOptions: 8,\n      colSpan: 5,\n      count: this.props.allusersdata.totalElements,\n      rowsPerPage: this.props.allusersdata.size,\n      page: this.props.allusersdata.number,\n      onChangePage: this.handleChangePage,\n      onChangeRowsPerPage: this.handleChangeRowsPerPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 37\n      }\n    })), /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 33\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 33\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 33\n      }\n    }, \"E-mail\"), /*#__PURE__*/React.createElement(TableCell, {\n      style: {\n        width: 300 + \"px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 74\n      }\n    }, \"Actions\")))), this.props.allusersdata && this.props.allusersdata.content && /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 29\n      }\n    }, this.props.allusersdata.content && this.props.allusersdata.content.map(user => /*#__PURE__*/React.createElement(TableRow, {\n      key: user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 41\n      }\n    }, user.username), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 41\n      }\n    }, user.name + \" \" + user.surname), /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 41\n      }\n    }, user.email), /*#__PURE__*/React.createElement(TableCell, {\n      width: 400,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: '/app/users/delete/' + user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"secondary\",\n      \"aria-label\": \"Delete\",\n      className: \"btns pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(DeleteIcon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 53\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: '/app/users/reset_password/' + user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      \"aria-label\": \"Edit\",\n      className: \"btns  pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Security, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 53\n      }\n    }))), /*#__PURE__*/React.createElement(Link, {\n      to: '/app/users/update/' + user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      \"aria-label\": \"Edit\",\n      className: \"btns danger pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 59\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      style: {\n        fill: \"white\"\n      },\n      d: \"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 142\n      }\n    }))))), /*#__PURE__*/React.createElement(Link, {\n      to: '/app/users/details/' + user.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"contained\",\n      color: \"default\",\n      \"aria-label\": \"Details\",\n      className: \"btns success pull-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      width: \"24\",\n      height: \"24\",\n      viewBox: \"0 0 24 24\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 53\n      }\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      style: {\n        fill: \"white\"\n      },\n      d: \"M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 136\n      }\n    })))))))), /*#__PURE__*/React.createElement(TableFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 29\n      }\n    })))));\n  }\n\n}\n\nvar mapStateToProps = state => {\n  return {\n    allusersdata: state.usersReducer.allusersdata\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchAllUsers\n})(Users);","map":{"version":3,"sources":["C:/Users/Dell/Desktop/JovanaFiles/UniVienna/WinterSemester2020/PRAKTIKUM/tagamafront/Tagama-front/src/app/module/users/users.container.js"],"names":["React","AddIcon","Icon","DeleteIcon","connect","action","Link","Button","Paper","Table","TableBody","TableCell","TableFooter","TableHead","TablePagination","TableRow","TextField","fetchAllUsers","Redirect","handleLogout","hasRole","refreshToken","Security","Users","Component","state","filterValue","undefined","allusersdata","unauthorized","handleChangePage","event","page","props","handleChangeRowsPerPage","target","value","handleFilterChange","setState","componentWillMount","refreshTime","Date","setSeconds","getSeconds","localStorage","getItem","JSON","parse","expires_at","componentDidMount","render","margin","content","totalElements","size","number","width","map","user","id","username","name","surname","email","fill","mapStateToProps","usersReducer"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport AddIcon from \"@material-ui/icons/Add\"\r\nimport Icon from '@material-ui/core/Icon';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { connect } from 'react-redux'\r\nimport { action } from '../../../index';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport {\r\n    Button,\r\n    Paper,\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableFooter,\r\n    TableHead,\r\n    TablePagination,\r\n    TableRow,\r\n    TextField,\r\n} from \"@material-ui/core\";\r\nimport { fetchAllUsers } from './users.actions';\r\nimport Redirect from 'react-router/Redirect';\r\nimport { handleLogout, hasRole, refreshToken } from '../../shared/app.properties';\r\nimport Security from '@material-ui/icons/Security';\r\n\r\n\r\nclass Users extends React.Component {\r\n\r\n    state = {\r\n        filterValue: undefined,\r\n        allusersdata: undefined,\r\n    }\r\n\r\n    unauthorized = false;\r\n\r\n    componentWillMount() {\r\n        this.unauthorized = !hasRole('ROLE_ADMINISTRATION');\r\n\r\n        let refreshTime = new Date();\r\n        refreshTime.setSeconds(refreshTime.getSeconds() + 1800);\r\n\r\n        if (!localStorage.getItem('idm') || !localStorage.getItem('me')) {\r\n            handleLogout()\r\n        } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < new Date()) {\r\n            handleLogout()\r\n        } else if (localStorage.getItem('idm') && new Date(JSON.parse(localStorage.getItem('idm')).expires_at) < refreshTime) {\r\n            refreshToken()\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.props.fetchAllUsers(0, 8, \"\");\r\n    }\r\n\r\n    handleChangePage = (event, page) => {\r\n        this.props.fetchAllUsers(page, 8, this.state.filterValue)\r\n    };\r\n\r\n    handleChangeRowsPerPage = (event) => {\r\n        this.props.fetchAllUsers(this.props.allusersdata.page, event.target.value, this.state.filterValue);\r\n    }\r\n\r\n    handleFilterChange = event => {\r\n        this.setState({\r\n            filterValue: event.target.value\r\n        })\r\n        this.props.fetchAllUsers(0, 8, event.target.value);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"users\">\r\n                {localStorage.getItem('idm') && localStorage.getItem('me') && this.unauthorized &&\r\n                    <Redirect to=\"/app/error/unauthorized\" />\r\n                }\r\n                <Paper style={{ margin: 30 + \"px\" }}>\r\n\r\n                    <Table className='table'>\r\n                        <TableHead>\r\n                            <TableRow>\r\n                                <TableCell>\r\n                                    <Link to={'/app/users/create'}>\r\n                                        <Button variant=\"extendedFab\" color=\"primary\" aria-label=\"Add\" className=\"top-circle-create-btn \">\r\n                                            Add new <AddIcon />\r\n                                        </Button>\r\n                                    </Link>\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                    <TextField\r\n                                        id=\"standard-name\"\r\n                                        label=\"Filter\"\r\n                                        value={this.filterValue}\r\n                                        margin=\"normal\"\r\n                                        onChange={this.handleFilterChange}\r\n                                    />\r\n                                </TableCell>\r\n                                {this.props.allusersdata && this.props.allusersdata.content &&\r\n                                    <TablePagination\r\n                                        rowsPerPageOptions={8}\r\n                                        colSpan={5}\r\n                                        count={this.props.allusersdata.totalElements}\r\n                                        rowsPerPage={this.props.allusersdata.size}\r\n                                        page={this.props.allusersdata.number}\r\n                                        onChangePage={this.handleChangePage}\r\n                                        onChangeRowsPerPage={this.handleChangeRowsPerPage}\r\n                                    />\r\n                                }\r\n                            </TableRow>\r\n                            <TableRow >\r\n                                <TableCell>Username</TableCell>\r\n                                <TableCell>Name</TableCell>\r\n                                <TableCell>E-mail</TableCell>\r\n                                <TableCell style={{ width: 300 + \"px\" }}><p className=\"text-center\">Actions</p></TableCell>\r\n                            </TableRow>\r\n                        </TableHead>\r\n                        {this.props.allusersdata && this.props.allusersdata.content &&\r\n                            <TableBody>\r\n                                {this.props.allusersdata.content && this.props.allusersdata.content.map(user =>\r\n                                    <TableRow key={user.id}>\r\n                                        <TableCell>{user.username}</TableCell>\r\n                                        <TableCell>{user.name + \" \" + user.surname}</TableCell>\r\n                                        <TableCell>{user.email}</TableCell>\r\n                                        <TableCell width={400}>\r\n\r\n                                            <Link to={'/app/users/delete/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"secondary\" aria-label=\"Delete\" className='btns pull-right' >\r\n                                                    <DeleteIcon />\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Link to={'/app/users/reset_password/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"primary\" aria-label=\"Edit\" className='btns  pull-right' >\r\n                                                    <Security />\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Link to={'/app/users/update/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"primary\" aria-label=\"Edit\" className='btns danger pull-right' >\r\n                                                    <Icon><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path style={{ fill: \"white\" }} d=\"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z\" /></svg></Icon>\r\n                                                </Button>\r\n                                            </Link>\r\n                                            <Link to={'/app/users/details/' + user.id}>\r\n                                                <Button variant=\"contained\" color=\"default\" aria-label=\"Details\" className='btns success pull-right' >\r\n                                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path style={{ fill: \"white\" }} d=\"M11.5 9C10.12 9 9 10.12 9 11.5s1.12 2.5 2.5 2.5 2.5-1.12 2.5-2.5S12.88 9 11.5 9zM20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-3.21 14.21l-2.91-2.91c-.69.44-1.51.7-2.39.7C9.01 16 7 13.99 7 11.5S9.01 7 11.5 7 16 9.01 16 11.5c0 .88-.26 1.69-.7 2.39l2.91 2.9-1.42 1.42z\" /></svg>\r\n                                                </Button>\r\n                                            </Link>\r\n                                        </TableCell>\r\n                                    </TableRow>\r\n                                )}\r\n                            </TableBody>\r\n                        }\r\n                        <TableFooter>\r\n                            <TableRow>\r\n                            </TableRow>\r\n                        </TableFooter>\r\n                    </Table>\r\n\r\n                </Paper>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        allusersdata: state.usersReducer.allusersdata\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, ({\r\n    fetchAllUsers\r\n}))(Users);\r\n\r\n"]},"metadata":{},"sourceType":"module"}