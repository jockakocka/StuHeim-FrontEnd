{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/Dell/Desktop/JovanaFiles/UniVienna/WinterSemester2020/PRAKTIKUM/tagamafront/Tagama-front/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(groupsSagas);\n\nimport { call, put, takeEvery } from 'redux-saga/effects';\nimport { ADD_USER_TO_GROUP_FAIL, ADD_USER_TO_GROUP_REQUEST, ADD_USER_TO_GROUP_SUCCESS, CLEAR_GROUP_REQUEST, CREATE_GROUP_FAIL, CREATE_GROUP_REQUEST, CREATE_GROUP_SUCCESS, DELETE_GROUP_FAIL, DELETE_GROUP_REQUEST, DELETE_GROUP_SUCCESS, GET_ALL_GROUPS_FAIL, GET_ALL_GROUPS_REQUEST, GET_ALL_GROUPS_SUCCESS, GET_ALL_USERS_BY_GROUP_FAIL, GET_ALL_USERS_BY_GROUP_REQUEST, GET_ALL_USERS_BY_GROUP_SUCCESS, GET_GROUP_FAIL, GET_GROUP_REQUEST, GET_GROUP_SUCCESS, REMOVE_USER_FROM_GROUP_FAIL, REMOVE_USER_FROM_GROUP_REQUEST, REMOVE_USER_FROM_GROUP_SUCCESS, UPDATE_GROUP_FAIL, UPDATE_GROUP_REQUEST, UPDATE_GROUP_SUCCESS } from '../groups/groups.actions';\nimport { addUserToGroup, createGroup, deleteGroup, fetchAllGroups, fetchAllUsersByGroup, fetchGroup, removeUserFromGroup, updateGroup } from '../groups/groups.repo';\nexport var getAllGroupsData = state => state.groupsReducer.allgroupsdata;\nexport var getState = state => state;\nexport function groupsSagas() {\n  return _regeneratorRuntime.wrap(function groupsSagas$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.next = 2;\n          return takeEvery(GET_ALL_GROUPS_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    _context.prev = 0;\n                    _context.next = 3;\n                    return call(fetchAllGroups, action.payload);\n\n                  case 3:\n                    res = _context.sent;\n                    _context.next = 6;\n                    return put({\n                      type: GET_ALL_GROUPS_SUCCESS,\n                      payload: res\n                    });\n\n                  case 6:\n                    _context.next = 13;\n                    break;\n\n                  case 8:\n                    _context.prev = 8;\n                    _context.t0 = _context[\"catch\"](0);\n                    console.error(_context.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context.next = 13;\n                    return put({\n                      type: GET_ALL_GROUPS_FAIL,\n                      payload: {\n                        message: _context.t0.message\n                      }\n                    });\n\n                  case 13:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee, null, [[0, 8]]);\n          }));\n\n        case 2:\n          _context9.next = 4;\n          return takeEvery(CREATE_GROUP_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n              while (1) {\n                switch (_context2.prev = _context2.next) {\n                  case 0:\n                    _context2.prev = 0;\n                    _context2.next = 3;\n                    return call(createGroup, action.payload);\n\n                  case 3:\n                    res = _context2.sent;\n                    _context2.next = 6;\n                    return put({\n                      type: CREATE_GROUP_SUCCESS,\n                      payload: res\n                    });\n\n                  case 6:\n                    _context2.next = 8;\n                    return put({\n                      type: GET_ALL_GROUPS_REQUEST,\n                      payload: {\n                        page: 0,\n                        size: 10000\n                      }\n                    });\n\n                  case 8:\n                    _context2.next = 15;\n                    break;\n\n                  case 10:\n                    _context2.prev = 10;\n                    _context2.t0 = _context2[\"catch\"](0);\n                    console.error(_context2.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context2.next = 15;\n                    return put({\n                      type: CREATE_GROUP_FAIL,\n                      payload: {\n                        message: _context2.t0.message\n                      }\n                    });\n\n                  case 15:\n                  case \"end\":\n                    return _context2.stop();\n                }\n              }\n            }, _callee2, null, [[0, 10]]);\n          }));\n\n        case 4:\n          _context9.next = 6;\n          return takeEvery(DELETE_GROUP_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n              while (1) {\n                switch (_context3.prev = _context3.next) {\n                  case 0:\n                    put({\n                      type: CLEAR_GROUP_REQUEST,\n                      payload: undefined\n                    });\n                    _context3.prev = 1;\n                    _context3.next = 4;\n                    return call(deleteGroup, action.payload);\n\n                  case 4:\n                    res = _context3.sent;\n                    _context3.next = 7;\n                    return put({\n                      type: DELETE_GROUP_SUCCESS,\n                      payload: res\n                    });\n\n                  case 7:\n                    _context3.next = 9;\n                    return put({\n                      type: GET_ALL_GROUPS_REQUEST,\n                      payload: {\n                        page: 0,\n                        size: 10000\n                      }\n                    });\n\n                  case 9:\n                    _context3.next = 16;\n                    break;\n\n                  case 11:\n                    _context3.prev = 11;\n                    _context3.t0 = _context3[\"catch\"](1);\n                    console.error(_context3.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context3.next = 16;\n                    return put({\n                      type: DELETE_GROUP_FAIL,\n                      payload: {\n                        message: _context3.t0.message\n                      }\n                    });\n\n                  case 16:\n                  case \"end\":\n                    return _context3.stop();\n                }\n              }\n            }, _callee3, null, [[1, 11]]);\n          }));\n\n        case 6:\n          _context9.next = 8;\n          return takeEvery(GET_GROUP_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n              while (1) {\n                switch (_context4.prev = _context4.next) {\n                  case 0:\n                    put({\n                      type: CLEAR_GROUP_REQUEST,\n                      payload: undefined\n                    });\n                    _context4.prev = 1;\n                    _context4.next = 4;\n                    return call(fetchGroup, action.payload);\n\n                  case 4:\n                    res = _context4.sent;\n                    _context4.next = 7;\n                    return put({\n                      type: GET_GROUP_SUCCESS,\n                      payload: res\n                    });\n\n                  case 7:\n                    _context4.next = 14;\n                    break;\n\n                  case 9:\n                    _context4.prev = 9;\n                    _context4.t0 = _context4[\"catch\"](1);\n                    console.error(_context4.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context4.next = 14;\n                    return put({\n                      type: GET_GROUP_FAIL,\n                      payload: {\n                        message: _context4.t0.message\n                      }\n                    });\n\n                  case 14:\n                  case \"end\":\n                    return _context4.stop();\n                }\n              }\n            }, _callee4, null, [[1, 9]]);\n          }));\n\n        case 8:\n          _context9.next = 10;\n          return takeEvery(UPDATE_GROUP_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n              while (1) {\n                switch (_context5.prev = _context5.next) {\n                  case 0:\n                    put({\n                      type: CLEAR_GROUP_REQUEST,\n                      payload: undefined\n                    });\n                    _context5.prev = 1;\n                    _context5.next = 4;\n                    return call(updateGroup, action.payload);\n\n                  case 4:\n                    res = _context5.sent;\n                    _context5.next = 7;\n                    return put({\n                      type: UPDATE_GROUP_SUCCESS,\n                      payload: res\n                    });\n\n                  case 7:\n                    _context5.next = 9;\n                    return put({\n                      type: GET_ALL_GROUPS_REQUEST,\n                      payload: {\n                        page: 0,\n                        size: 10000\n                      }\n                    });\n\n                  case 9:\n                    _context5.next = 16;\n                    break;\n\n                  case 11:\n                    _context5.prev = 11;\n                    _context5.t0 = _context5[\"catch\"](1);\n                    console.error(_context5.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context5.next = 16;\n                    return put({\n                      type: UPDATE_GROUP_FAIL,\n                      payload: {\n                        message: _context5.t0.message\n                      }\n                    });\n\n                  case 16:\n                  case \"end\":\n                    return _context5.stop();\n                }\n              }\n            }, _callee5, null, [[1, 11]]);\n          }));\n\n        case 10:\n          _context9.next = 12;\n          return takeEvery(GET_ALL_USERS_BY_GROUP_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n              while (1) {\n                switch (_context6.prev = _context6.next) {\n                  case 0:\n                    _context6.prev = 0;\n                    _context6.next = 3;\n                    return call(fetchAllUsersByGroup, action.payload);\n\n                  case 3:\n                    res = _context6.sent;\n                    _context6.next = 6;\n                    return put({\n                      type: GET_ALL_USERS_BY_GROUP_SUCCESS,\n                      payload: res\n                    });\n\n                  case 6:\n                    _context6.next = 13;\n                    break;\n\n                  case 8:\n                    _context6.prev = 8;\n                    _context6.t0 = _context6[\"catch\"](0);\n                    console.error(_context6.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context6.next = 13;\n                    return put({\n                      type: GET_ALL_USERS_BY_GROUP_FAIL,\n                      payload: {\n                        message: _context6.t0.message\n                      }\n                    });\n\n                  case 13:\n                  case \"end\":\n                    return _context6.stop();\n                }\n              }\n            }, _callee6, null, [[0, 8]]);\n          }));\n\n        case 12:\n          _context9.next = 14;\n          return takeEvery(ADD_USER_TO_GROUP_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n              while (1) {\n                switch (_context7.prev = _context7.next) {\n                  case 0:\n                    _context7.prev = 0;\n                    _context7.next = 3;\n                    return call(addUserToGroup, action.payload);\n\n                  case 3:\n                    res = _context7.sent;\n                    _context7.next = 6;\n                    return put({\n                      type: ADD_USER_TO_GROUP_SUCCESS,\n                      payload: res\n                    });\n\n                  case 6:\n                    _context7.next = 8;\n                    return put({\n                      type: GET_ALL_USERS_BY_GROUP_REQUEST,\n                      payload: {\n                        id: action.payload.group.id\n                      }\n                    });\n\n                  case 8:\n                    _context7.next = 15;\n                    break;\n\n                  case 10:\n                    _context7.prev = 10;\n                    _context7.t0 = _context7[\"catch\"](0);\n                    console.error(_context7.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context7.next = 15;\n                    return put({\n                      type: ADD_USER_TO_GROUP_FAIL,\n                      payload: {\n                        message: _context7.t0.message\n                      }\n                    });\n\n                  case 15:\n                  case \"end\":\n                    return _context7.stop();\n                }\n              }\n            }, _callee7, null, [[0, 10]]);\n          }));\n\n        case 14:\n          _context9.next = 16;\n          return takeEvery(REMOVE_USER_FROM_GROUP_REQUEST, /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(action) {\n            var res;\n            return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n              while (1) {\n                switch (_context8.prev = _context8.next) {\n                  case 0:\n                    _context8.prev = 0;\n                    _context8.next = 3;\n                    return call(removeUserFromGroup, action.payload);\n\n                  case 3:\n                    res = _context8.sent;\n                    _context8.next = 6;\n                    return put({\n                      type: REMOVE_USER_FROM_GROUP_SUCCESS,\n                      payload: res\n                    });\n\n                  case 6:\n                    _context8.next = 8;\n                    return put({\n                      type: GET_ALL_USERS_BY_GROUP_REQUEST,\n                      payload: {\n                        id: action.payload.group.id\n                      }\n                    });\n\n                  case 8:\n                    _context8.next = 15;\n                    break;\n\n                  case 10:\n                    _context8.prev = 10;\n                    _context8.t0 = _context8[\"catch\"](0);\n                    console.error(_context8.t0); //yield put(showNotification('error.error_nesto'));\n\n                    _context8.next = 15;\n                    return put({\n                      type: REMOVE_USER_FROM_GROUP_FAIL,\n                      payload: {\n                        message: _context8.t0.message\n                      }\n                    });\n\n                  case 15:\n                  case \"end\":\n                    return _context8.stop();\n                }\n              }\n            }, _callee8, null, [[0, 10]]);\n          }));\n\n        case 16:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked);\n}","map":{"version":3,"sources":["C:/Users/Dell/Desktop/JovanaFiles/UniVienna/WinterSemester2020/PRAKTIKUM/tagamafront/Tagama-front/src/app/module/groups/groups.saga.js"],"names":["groupsSagas","call","put","takeEvery","ADD_USER_TO_GROUP_FAIL","ADD_USER_TO_GROUP_REQUEST","ADD_USER_TO_GROUP_SUCCESS","CLEAR_GROUP_REQUEST","CREATE_GROUP_FAIL","CREATE_GROUP_REQUEST","CREATE_GROUP_SUCCESS","DELETE_GROUP_FAIL","DELETE_GROUP_REQUEST","DELETE_GROUP_SUCCESS","GET_ALL_GROUPS_FAIL","GET_ALL_GROUPS_REQUEST","GET_ALL_GROUPS_SUCCESS","GET_ALL_USERS_BY_GROUP_FAIL","GET_ALL_USERS_BY_GROUP_REQUEST","GET_ALL_USERS_BY_GROUP_SUCCESS","GET_GROUP_FAIL","GET_GROUP_REQUEST","GET_GROUP_SUCCESS","REMOVE_USER_FROM_GROUP_FAIL","REMOVE_USER_FROM_GROUP_REQUEST","REMOVE_USER_FROM_GROUP_SUCCESS","UPDATE_GROUP_FAIL","UPDATE_GROUP_REQUEST","UPDATE_GROUP_SUCCESS","addUserToGroup","createGroup","deleteGroup","fetchAllGroups","fetchAllUsersByGroup","fetchGroup","removeUserFromGroup","updateGroup","getAllGroupsData","state","groupsReducer","allgroupsdata","getState","action","payload","res","type","console","error","message","page","size","undefined","id","group"],"mappings":"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","sourcesContent":["import {call, put, takeEvery} from 'redux-saga/effects';\r\nimport {\r\n    ADD_USER_TO_GROUP_FAIL,\r\n    ADD_USER_TO_GROUP_REQUEST,\r\n    ADD_USER_TO_GROUP_SUCCESS,\r\n    CLEAR_GROUP_REQUEST,\r\n    CREATE_GROUP_FAIL,\r\n    CREATE_GROUP_REQUEST,\r\n    CREATE_GROUP_SUCCESS,\r\n    DELETE_GROUP_FAIL,\r\n    DELETE_GROUP_REQUEST,\r\n    DELETE_GROUP_SUCCESS,\r\n    GET_ALL_GROUPS_FAIL,\r\n    GET_ALL_GROUPS_REQUEST,\r\n    GET_ALL_GROUPS_SUCCESS,\r\n    GET_ALL_USERS_BY_GROUP_FAIL,\r\n    GET_ALL_USERS_BY_GROUP_REQUEST,\r\n    GET_ALL_USERS_BY_GROUP_SUCCESS,\r\n    GET_GROUP_FAIL,\r\n    GET_GROUP_REQUEST,\r\n    GET_GROUP_SUCCESS,\r\n    REMOVE_USER_FROM_GROUP_FAIL,\r\n    REMOVE_USER_FROM_GROUP_REQUEST,\r\n    REMOVE_USER_FROM_GROUP_SUCCESS,\r\n    UPDATE_GROUP_FAIL,\r\n    UPDATE_GROUP_REQUEST,\r\n    UPDATE_GROUP_SUCCESS\r\n} from '../groups/groups.actions';\r\nimport {\r\n    addUserToGroup,\r\n    createGroup,\r\n    deleteGroup,\r\n    fetchAllGroups,\r\n    fetchAllUsersByGroup,\r\n    fetchGroup,\r\n    removeUserFromGroup,\r\n    updateGroup\r\n} from '../groups/groups.repo'\r\n\r\nexport const getAllGroupsData = state => state.groupsReducer.allgroupsdata;\r\nexport const getState = state => state;\r\n\r\nexport function* groupsSagas () {\r\n    yield takeEvery(GET_ALL_GROUPS_REQUEST, function* (action) {\r\n\r\n\r\n        try {\r\n\r\n            const res = yield call(fetchAllGroups,action.payload);\r\n            yield put({type: GET_ALL_GROUPS_SUCCESS, payload: res});\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: GET_ALL_GROUPS_FAIL, payload: {message: e.message}});\r\n        }\r\n    });\r\n\r\n    yield takeEvery(CREATE_GROUP_REQUEST, function*(action){\r\n        // put({type: CLEAR_GROUP_REQUEST, payload: undefined});\r\n\r\n\r\n        try {\r\n            const res = yield call(createGroup, action.payload);\r\n            yield put({type: CREATE_GROUP_SUCCESS, payload: res});\r\n            yield put({type: GET_ALL_GROUPS_REQUEST, payload: {page: 0, size: 10000}});\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: CREATE_GROUP_FAIL, payload: {message: e.message}});\r\n        }\r\n    });\r\n    yield takeEvery(DELETE_GROUP_REQUEST, function*(action){\r\n        put({type: CLEAR_GROUP_REQUEST, payload: undefined});\r\n\r\n\r\n        try {\r\n            const res = yield call(deleteGroup, action.payload);\r\n            yield put({type: DELETE_GROUP_SUCCESS, payload: res});\r\n            yield put({type: GET_ALL_GROUPS_REQUEST, payload: {page: 0, size: 10000}});\r\n\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: DELETE_GROUP_FAIL, payload: {message: e.message}});\r\n        }\r\n    });\r\n\r\n    yield takeEvery(GET_GROUP_REQUEST, function*(action){\r\n        put({type: CLEAR_GROUP_REQUEST, payload: undefined});\r\n\r\n\r\n        try {\r\n            const res = yield call(fetchGroup,action.payload);\r\n            yield put({type: GET_GROUP_SUCCESS, payload: res});\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: GET_GROUP_FAIL, payload: {message: e.message}});\r\n        }\r\n\r\n    });\r\n    yield takeEvery(UPDATE_GROUP_REQUEST, function*(action){\r\n        put({type: CLEAR_GROUP_REQUEST, payload: undefined});\r\n\r\n\r\n        try {\r\n            const res = yield call(updateGroup, action.payload);\r\n            yield put({type: UPDATE_GROUP_SUCCESS, payload: res});\r\n            yield put({type: GET_ALL_GROUPS_REQUEST, payload: {page: 0, size: 10000}});\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: UPDATE_GROUP_FAIL, payload: {message: e.message}});\r\n        }\r\n    });\r\n\r\n    yield takeEvery(GET_ALL_USERS_BY_GROUP_REQUEST, function*(action){\r\n\r\n\r\n        try {\r\n            const res = yield call(fetchAllUsersByGroup, action.payload);\r\n            yield put({type: GET_ALL_USERS_BY_GROUP_SUCCESS, payload: res});\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: GET_ALL_USERS_BY_GROUP_FAIL, payload: {message: e.message}});\r\n        }\r\n    });\r\n\r\n    //add user to group\r\n    yield takeEvery(ADD_USER_TO_GROUP_REQUEST, function* (action) {\r\n\r\n        try {\r\n            const res = yield call(addUserToGroup,action.payload);\r\n            yield put({type: ADD_USER_TO_GROUP_SUCCESS, payload: res});\r\n            yield put({type: GET_ALL_USERS_BY_GROUP_REQUEST, payload: {id: action.payload.group.id}});\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: ADD_USER_TO_GROUP_FAIL, payload: {message: e.message}});\r\n        }\r\n    });\r\n\r\n    //remove user from group\r\n    yield takeEvery(REMOVE_USER_FROM_GROUP_REQUEST, function* (action) {\r\n        try {\r\n            const res = yield call(removeUserFromGroup,action.payload);\r\n            yield put({type: REMOVE_USER_FROM_GROUP_SUCCESS, payload: res});\r\n            yield put({type: GET_ALL_USERS_BY_GROUP_REQUEST, payload: {id: action.payload.group.id}});\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            //yield put(showNotification('error.error_nesto'));\r\n            yield put({type: REMOVE_USER_FROM_GROUP_FAIL, payload: {message: e.message}});\r\n        }\r\n});\r\n\r\n\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}